var IdeasaValidator=Class.create({initialize:function(a){this.paymentMethod="payment_form_"+a.paymentMethod},cpf:function(a){a.value=this._mcpf(a.value)},numeric:function(a){a.value=this._mnum(a.value)},_mcpf:function(a){a=a.replace(/\D/g,"");a=a.replace(/(\d{3})(\d)/,"$1.$2");a=a.replace(/(\d{3})(\d)/,"$1.$2");a=a.replace(/(\d{3})(\d{1,2})$/,"$1-$2");return a},_mnum:function(a){a=a.replace(/\D/g,"");return a}});Validation.add("validate-one-payment-brand",Translator.translate("Por favor, selecione uma opção de pagamento: Cartão de Crédito, Débito ou Boleto."),function(b,d){var a=$(d).readAttribute("data-method");var c=$$("#payment_form_"+a+" span.select").length;return(c>0)});var IdeasaToggleToolTip=Class.create({initialize:function(a){this.tip=$("ideasa-payment-"+a+"-tool-tip")},insert:function(a){if(this.tip){this.tip.setStyle({left:(Event.pointerX(a)-100)+"px",top:(Event.pointerY(a)-300)+"px"});this.tip.toggle()}Event.stop(a)}});$$('[name="payment[method]"]').invoke("observe","click",function(){$$(".ideasa input[type=radio]").each(function(a){a.setAttribute("name","")});$$(".ideasa .ideasa-parcelas select").each(function(a){a.setAttribute("name","")});$$(".select").each(function(a){a.removeClassName("select")});$$(".divPagForm").invoke("hide");if(element.checked){$$("input[name=payment[selected]]").each(function(a){$(a).removeClassName("validate-one-payment-brand");if($(a).readAttribute("data-method")==element.id){$(a).addClassName("validate-one-payment-brand")}})}if(isUrlTelevendas){ideasa.review()}});ideasa.review=function(){var a=Form.serialize("co-payment-form");ideasa.updateReview(a)};ideasa.updateReview=function(a){$("loadingmask").show();$("form-items").innerHTML="";new Ajax.Request(urlTelev,{method:"post",parameters:a,onComplete:function(b){$("loadingmask").hide();$("form-items").innerHTML=b.responseText}})};